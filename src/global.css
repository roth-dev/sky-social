@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  body {
    margin: 0;
    padding: 0;
    background-color: #ffffff;
  }

  /* Dark mode styles */
  .dark body {
    background-color: #111827;
    color: #f9fafb;
  }
}

/* Custom component styles */
@layer components {
  .tab-bar-mobile {
    @apply fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200;
    @apply flex flex-row items-center justify-around;
    @apply h-16 px-4 pb-safe;
  }
  
  .tab-bar-desktop {
    @apply hidden;
  }
  
  .sidebar-desktop {
    @apply hidden xl:flex xl:flex-col xl:fixed xl:left-0 xl:top-0 xl:bottom-0;
    @apply xl:w-72 xl:bg-white xl:border-r xl:border-gray-200;
    @apply xl:z-40 xl:px-6 xl:py-4;
  }
  
  .main-content-mobile {
    @apply flex-1 pb-16;
  }
  
  .main-content-desktop {
    @apply xl:ml-72 xl:pb-0;
    @apply xl:flex xl:justify-center xl:min-h-screen;
  }

  .main-content-desktop > * {
    @apply xl:border-r xl:border-gray-200;
    @apply xl:w-full xl:max-w-2xl xl:min-h-screen;
  }

  /* Right sidebar for trending/suggestions */
  .right-sidebar-desktop {
    @apply hidden xl:flex xl:flex-col xl:fixed xl:right-0 xl:top-0 xl:bottom-0;
    @apply xl:w-80 xl:bg-white xl:border-l xl:border-gray-200;
    @apply xl:z-30 xl:px-6 xl:py-4 xl:overflow-y-auto;
  }

  /* Dark mode component styles */
  .dark .tab-bar-mobile {
    @apply bg-gray-900 border-gray-700;
  }

  .dark .sidebar-desktop {
    @apply xl:bg-gray-900 xl:border-gray-700;
  }

  .dark .main-content-desktop > * {
    @apply xl:border-gray-700;
  }

  .dark .right-sidebar-desktop {
    @apply xl:bg-gray-900 xl:border-gray-700;
  }
}

/* Responsive utilities */
@layer utilities {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }
  
  .pl-safe {
    padding-left: env(safe-area-inset-left);
  }
  
  .pr-safe {
    padding-right: env(safe-area-inset-right);
  }
}

/* Mobile-first responsive design */
@media (max-width: 1279px) {
  .tab-bar-mobile {
    @apply flex;
  }
  
  .tab-bar-desktop {
    @apply hidden;
  }
  
  .sidebar-desktop {
    @apply hidden;
  }
  
  .right-sidebar-desktop {
    @apply hidden;
  }
}

@media (min-width: 1280px) {
  .tab-bar-mobile {
    @apply hidden;
  }
  
  .tab-bar-desktop {
    @apply flex;
  }
  
  /* Three-column layout for desktop */
  .main-content-desktop {
    margin-left: 288px; /* 72 * 4 = 288px for xl:w-72 */
    margin-right: 320px; /* 80 * 4 = 320px for xl:w-80 */
    max-width: none;
    padding-bottom: 0;
  }

  .main-content-desktop > * {
    max-width: 672px; /* 2xl = 42rem = 672px */
    margin: 0 auto;
  }

  /* Ensure proper spacing and layout */
  body {
    @apply xl:bg-gray-50;
  }

  .dark body {
    @apply xl:bg-black;
  }
}

/* Additional X.com-like styling */
@layer components {
  /* Sticky positioning for sidebars */
  .sidebar-desktop {
    @apply xl:sticky xl:top-0 xl:h-screen xl:overflow-y-auto;
  }
  
  .right-sidebar-desktop {
    @apply xl:sticky xl:top-0 xl:h-screen;
  }

  /* Main content area styling */
  .main-content-desktop > * {
    @apply xl:bg-white xl:min-h-screen;
  }

  .dark .main-content-desktop > * {
    @apply xl:bg-gray-900;
  }

  /* Smooth scrolling */
  .sidebar-desktop,
  .right-sidebar-desktop {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* Internet Explorer 10+ */
  }

  .sidebar-desktop::-webkit-scrollbar,
  .right-sidebar-desktop::-webkit-scrollbar {
    display: none; /* WebKit */
  }
}